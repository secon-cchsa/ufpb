<!DOCTYPE html>
<!-- Autor: Judson Praxedes da Silva -->
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velocímetro Interativo Final</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: transparent; /* Fundo transparente */
        }
        .gauge-container {
            width: 100%;
            max-width: 550px;
            padding: 20px;
            position: relative; 
        }
        .gauge-svg {
            width: 100%;
            height: auto;
            -webkit-transform: translate3d(0,0,0); 
        }
        #gauge-tooltip {
            position: fixed; 
            display: none; 
            padding: 5px 10px;
            background-color: #2C3E50;
            color: white;
            border: 2px solid #fff;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
            z-index: 10;
            pointer-events: none; 
            transition: opacity 0.2s;
        }
        .gauge-value-text {
            font-weight: bold;
            fill: #f0f0f0; 
            text-anchor: middle;
        }
        .gauge-tick-label {
            fill: #d0d0d0; 
            text-anchor: middle;
            dominant-baseline: middle;
        }
        .gauge-arc {
            fill: none;
            transition: opacity 0.2s ease-in-out;
        }
        .gauge-arc:hover {
            opacity: 0.9;
            cursor: pointer;
        }
        .gauge-needle {
            fill: #2C3E50;
            stroke: #2C3E50;
            transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .gauge-pivot {
            fill: #555555;
        }
    </style>
</head>
<body>
    <div id="gauge-tooltip"></div>

    <div class="gauge-container">
        <svg id="gauge" viewBox="0 0 200 125" class="gauge-svg">
            <defs>
                <filter id="sombra-suave" x="-50%" y="-50%" width="200%" height="200%">
                    <feOffset dx="-1.5" dy="1.5" in="SourceAlpha" result="offset-alpha"/>
                    <feGaussianBlur in="offset-alpha" stdDeviation="2" result="blurred-alpha"/>
                    <feFlood flood-color="#000" flood-opacity="0.3" result="shadow-color"/>
                    <feComposite in="shadow-color" in2="blurred-alpha" operator="in" result="colored-shadow"/>
                    <feMerge>
                        <feMergeNode in="colored-shadow"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>
            
            <g id="gauge-arcs" filter="url(#sombra-suave)"></g>
            <g id="gauge-ticks"></g>
            
            <text x="103" y="120" class="gauge-value-text" font-size="10" id="gauge-value" filter="url(#sombra-suave)">0.0%</text>

            <g id="gauge-needle-group" filter="url(#sombra-suave)">
                <polygon points="100,98 15,100 100,102" class="gauge-needle" />
            </g>
            <circle cx="100" cy="100" r="4" class="gauge-pivot" />
        </svg>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- 1. Configurações ---
    const CONFIG = {
        valorInicial: 82.1, // <-- VALOR ATUALIZADO
        zonas: [
            { limiteInferior: 0,  limiteSuperior: 60, cor: "#2ECC71", rotulo: "Bom" },
            { limiteInferior: 60, limiteSuperior: 80, cor: "#F1C40F", rotulo: "Atenção" },
            { limiteInferior: 80, limiteSuperior: 90, cor: "#E67E22", rotulo: "Alerta" },
            { limiteInferior: 90, limiteSuperior: 100, cor: "#E74C3C", rotulo: "Crítico" }
        ]
    };
<!-- Autor: Judson Praxedes da Silva -->
    // --- 2. Seletores de Elementos DOM ---
    const domElements = {
        tooltip: document.getElementById('gauge-tooltip'),
        arcsGroup: document.getElementById('gauge-arcs'),
        ticksGroup: document.getElementById('gauge-ticks'),
        needleGroup: document.getElementById('gauge-needle-group'),
        valueText: document.getElementById('gauge-value')
    };

    const centerX = 100, centerY = 100;
    const GAUGE_START_ANGLE = -180;
    const GAUGE_END_ANGLE = 0;

    // --- 3. Funções Auxiliares ---
    const valueToAngle = (value) => GAUGE_START_ANGLE + (value / 100) * (GAUGE_END_ANGLE - GAUGE_START_ANGLE);
    const angleToCoords = (angle, radius) => [centerX + radius * Math.cos(angle * Math.PI / 180), centerY + radius * Math.sin(angle * Math.PI / 180)];

    // --- 4. Função para Criar os Componentes Visuais ---
    function createGauge() {
        const radius = 80;
        const strokeWidth = 20;

        function createArc(zona) {
            const startAngle = valueToAngle(zona.limiteInferior);
            const endAngle = valueToAngle(zona.limiteSuperior);
            const [startX, startY] = angleToCoords(startAngle, radius);
            const [endX, endY] = angleToCoords(endAngle, radius);
            const pathData = `M ${startX} ${startY} A ${radius} ${radius} 0 0 1 ${endX} ${endY}`;
            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute('d', pathData);
            path.style.fill = 'none';
            path.style.stroke = zona.cor;
            path.style.strokeWidth = strokeWidth;
            path.classList.add('gauge-arc');

            path.addEventListener('mouseover', (e) => {
                domElements.tooltip.innerHTML = zona.rotulo;
                domElements.tooltip.style.display = 'block';
                domElements.tooltip.style.borderColor = zona.cor;
            });
            path.addEventListener('mousemove', (e) => {
                domElements.tooltip.style.left = `${e.pageX + 15}px`;
                domElements.tooltip.style.top = `${e.pageY + 15}px`;
            });
            path.addEventListener('mouseout', (e) => {
                domElements.tooltip.style.display = 'none';
            });
            
            return path;
        }

        CONFIG.zonas.forEach(zona => domElements.arcsGroup.appendChild(createArc(zona)));
        
        const tickValues = [0, 20, 40, 60, 80, 100];
        tickValues.forEach(value => {
            const angle = valueToAngle(value);
            const [x, y] = angleToCoords(angle, radius + (strokeWidth / 2) + 4);
            const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
            label.setAttribute('x', x);
            label.setAttribute('y', y);
            label.textContent = value;
            label.classList.add('gauge-tick-label');
            label.setAttribute('font-size', '8');
            domElements.ticksGroup.appendChild(label);
        });
    }

    // --- 5. Função para Atualizar o Ponteiro e o Valor ---
    function updateGauge(value) {
        const clampedValue = Math.max(0, Math.min(100, value));
        const angle = valueToAngle(clampedValue);
        const finalAngle = angle + 180;
        domElements.needleGroup.setAttribute('transform', `rotate(${finalAngle} ${centerX} ${centerY})`);
        domElements.valueText.textContent = `${clampedValue.toFixed(1)}%`;
    }

    // --- 6. Inicialização ---
    createGauge();
    updateGauge(CONFIG.valorInicial);
});
</script>
</body>
</html>
<!-- Autor: Judson Praxedes da Silva -->